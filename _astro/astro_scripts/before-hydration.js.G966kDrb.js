import{j as d,E as b,D as v}from"../lit-html.Itu0JYEK.js";const g={resolveDirective:d.V,ElementPart:d.F,TemplateInstance:d.R,isIterable:d.D,ChildPart:d.I};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const p={ATTRIBUTE:1,PROPERTY:3,EVENT:5,ELEMENT:6};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const E=r=>r===null||typeof r!="object"&&typeof r!="function",w=(r,o)=>r?._$litType$!==void 0,A=r=>r?._$litType$?.h!=null,$=r=>r.strings===void 0;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{TemplateInstance:T,isIterable:P,resolveDirective:f,ChildPart:h,ElementPart:x}=g,I=(r,o,i={})=>{if(o._$litPart$!==void 0)throw Error("container already contains a live render");let l,n,e;const t=[],c=document.createTreeWalker(o,NodeFilter.SHOW_COMMENT);let a;for(;(a=c.nextNode())!==null;){const s=a.data;if(s.startsWith("lit-part")){if(t.length===0&&l!==void 0)throw Error(`There must be only one root part per container. Found a part marker (${a}) when we already have a root part marker (${n})`);e=_(r,a,t,i),l===void 0&&(l=e),n??=a}else if(s.startsWith("lit-node"))C(a,t,i);else if(s.startsWith("/lit-part")){if(t.length===1&&e!==l)throw Error("internal error");e=R(a,e,t)}}if(l===void 0){const s=o instanceof ShadowRoot?"{container.host.localName}'s shadow root":o instanceof DocumentFragment?"DocumentFragment":o.localName;console.error(`There should be exactly one root part in a render container, but we didn't find any in ${s}.`)}o._$litPart$=l},_=(r,o,i,l)=>{let n,e;if(i.length===0)e=new h(o,null,void 0,l),n=r;else{const t=i[i.length-1];if(t.type==="template-instance")e=new h(o,null,t.instance,l),t.instance._$AV.push(e),n=t.result.values[t.instancePartIndex++],t.templatePartIndex++;else if(t.type==="iterable"){e=new h(o,null,t.part,l);const c=t.iterator.next();if(c.done)throw n=void 0,t.done=!0,Error("Unhandled shorter than expected iterable");n=c.value,t.part._$AH.push(e)}else e=new h(o,null,t.part,l)}if(n=f(e,n),n===b)i.push({part:e,type:"leaf"});else if(E(n))i.push({part:e,type:"leaf"}),e._$AH=n;else if(w(n)){if(A(n))throw Error("compiled templates are not supported");const t="lit-part "+O(n);if(o.data!==t)throw Error("Hydration value mismatch: Unexpected TemplateResult rendered to part");{const c=h.prototype._$AC(n),a=new T(c,e);i.push({type:"template-instance",instance:a,part:e,templatePartIndex:0,instancePartIndex:0,result:n}),e._$AH=a}}else P(n)?(i.push({part:e,type:"iterable",value:n,iterator:n[Symbol.iterator](),done:!1}),e._$AH=[]):(i.push({part:e,type:"leaf"}),e._$AH=n??"");return e},R=(r,o,i)=>{if(o===void 0)throw Error("unbalanced part marker");o._$AB=r;const l=i.pop();if(l.type==="iterable"&&!l.iterator.next().done)throw Error("unexpected longer than expected iterable");if(i.length>0)return i[i.length-1].part},C=(r,o,i)=>{const l=/lit-node (\d+)/.exec(r.data),n=parseInt(l[1]),e=r.nextElementSibling;if(e===null)throw Error("could not find node for attribute parts");e.removeAttribute("defer-hydration");const t=o[o.length-1];if(t.type!=="template-instance")throw Error("Hydration value mismatch: Primitive found where TemplateResult expected. This usually occurs due to conditional rendering that resulted in a different value or template being rendered between the server and client.");{const c=t.instance;for(;;){const a=c._$AD.parts[t.templatePartIndex];if(a===void 0||a.type!==p.ATTRIBUTE&&a.type!==p.ELEMENT||a.index!==n)break;if(a.type===p.ATTRIBUTE){const s=new a.ctor(e,a.name,a.strings,t.instance,i),y=$(s)?t.result.values[t.instancePartIndex]:t.result.values,m=!(s.type===p.EVENT||s.type===p.PROPERTY);s._$AI(y,s,t.instancePartIndex,m),t.instancePartIndex+=a.strings.length-1,c._$AV.push(s)}else{const s=new x(e,t.instance,i);f(s,t.result.values[t.instancePartIndex++]),c._$AV.push(s)}t.templatePartIndex++}}},u=new WeakMap,O=r=>{let o=u.get(r.strings);if(o!==void 0)return o;const i=new Uint32Array(2).fill(5381);for(const n of r.strings)for(let e=0;e<n.length;e++)i[e%2]=33*i[e%2]^n.charCodeAt(e);const l=String.fromCharCode(...new Uint8Array(i.buffer));return o=btoa(l),u.set(r.strings,o),o};globalThis.litElementHydrateSupport=({LitElement:r})=>{const o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(r),"observedAttributes").get;Object.defineProperty(r,"observedAttributes",{get(){return[...o.call(this),"defer-hydration"]}});const i=r.prototype.attributeChangedCallback;r.prototype.attributeChangedCallback=function(t,c,a){t==="defer-hydration"&&a===null&&l.call(this),i.call(this,t,c,a)};const l=r.prototype.connectedCallback;r.prototype.connectedCallback=function(){this.hasAttribute("defer-hydration")||l.call(this)};const n=r.prototype.createRenderRoot;r.prototype.createRenderRoot=function(){return this.shadowRoot?(this._$AG=!0,this.shadowRoot):n.call(this)};const e=Object.getPrototypeOf(r.prototype).update;r.prototype.update=function(t){const c=this.render();if(e.call(this,t),this._$AG){this._$AG=!1;for(const a of this.getAttributeNames())if(a.startsWith("hydrate-internals-")){const s=a.slice(18);this.removeAttribute(s),this.removeAttribute(a)}I(c,this.renderRoot,this.renderOptions)}else v(c,this.renderRoot,this.renderOptions)}};
